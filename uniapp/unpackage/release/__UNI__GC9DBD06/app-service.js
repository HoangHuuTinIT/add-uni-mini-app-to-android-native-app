if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}__definePage("pages/index/index",((e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n})(e.defineComponent({__name:"index",setup(n){const r=e.ref([]),a=e.ref(!0),o=e.ref(null);async function l(){var e;a.value=!0,o.value=null;try{const t=await uni.request({url:"https://api.unsplash.com/photos",method:"GET",data:{page:1,per_page:10,client_id:"QJ8VJBqhvYoEBDJik4uKvUnjzdaKIG3DqhOSCAweCN4"}});if(200!==t.statusCode){const n=t.data;throw new Error(`Lỗi API: ${t.statusCode} - ${null==(e=n.errors)?void 0:e.join(", ")}`)}r.value=t.data}catch(n){t("error","at pages/index/index.vue:88","Không thể tải ảnh:",n),o.value=n.message||"Không thể kết nối đến máy chủ."}finally{a.value=!1}}return e.onMounted((()=>{l()})),(t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"Unsplash Photos")]),a.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"state-container"},[e.createElementVNode("text",{class:"state-text"},"Đang tải dữ liệu...")])):o.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"state-container error"},[e.createElementVNode("text",{class:"state-text error-title"},"Đã xảy ra lỗi:"),e.createElementVNode("text",{class:"state-text error-message"},e.toDisplayString(o.value),1),e.createElementVNode("button",{class:"retry-button",onClick:l},"Thử lại")])):r.value.length>0?(e.openBlock(),e.createElementBlock("scroll-view",{key:2,class:"photo-list","scroll-y":""},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"photo-card"},[e.createElementVNode("image",{src:t.urls.small,class:"photo-image",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("text",{class:"photo-description"},e.toDisplayString(t.description||"Không có mô tả"),1)])))),128))])):(e.openBlock(),e.createElementBlock("view",{key:3,class:"state-container"},[e.createElementVNode("text",{class:"state-text"},"Không tìm thấy bức ảnh nào.")]))]))}}),[["__scopeId","data-v-79b45f33"]]));const n={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:r,Vuex:a,Pinia:o}={app:e.createVueApp(n)};uni.Vuex=a,uni.Pinia=o,r.provide("__globalStyles",__uniConfig.styles),r._component.mpType="app",r._component.render=()=>{},r.mount("#app")}(Vue);
